{"version":3,"sources":["../../src/avatar/avatar.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,cAAc,EAAE,WAAW,EAAoB,MAAM,qBAAqB,CAAC;AACpF,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,WAAW,MAAM,SAAS,CAAC;AAClC,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAE1C,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,SAAS,CAAC;AAGhC,IAAqB,MAAM,GAA3B,MAAqB,MAAO,SAAQ,cAAc;IAAlD;;QACE,YAAO,GAAiD;YACtD,aAAa,EAAE,IAAI;YACnB,cAAc,EAAE,cAAc;SAC/B,CAAC;QAEF,oBAAe,GAAG;YAChB,OAAO;YACP,GAAG,MAAM,QAAQ;YACjB,GAAG,MAAM,cAAc;YACvB,GAAG,MAAM,aAAa;YACtB,GAAG,MAAM,YAAY;YACrB,GAAG,MAAM,gBAAgB;SAC1B,CAAC;QAEF,eAAU,GAAG,WAAW,CAAC;QAEzB,SAAI,GAAG;YACL,MAAM;YACN,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,CAAC;SACV,CAAC;QAEF,cAAS,GAAqB;YAC5B,8BAA8B,EAAE;gBAC9B,IAAI,EAAE,UAAU;gBAChB,MAAM,CAAC,MAAM;;oBACX,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBAErB,IAAI,CAAC,OAAO,CAAC;wBACX,IAAI,EAAE,MAAA,IAAI,CAAC,IAAI,CAAC,IAAI,mCAAI,MAAM,CAAC,IAAI,CAAC,IAAI;qBACzC,CAAC,CAAC;gBACL,CAAC;aACF;SACF,CAAC;QAEF,cAAS,GAAG;YACV,IAAI,CAAC,IAAI;gBACP,MAAM,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,mBACP,GAAG,EACN,CAAC;YACL,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,IAAI;gBACF,IAAI,CAAC,OAAO,CAAC;oBACX,MAAM,EAAE,KAAK;iBACd,CAAC,CAAC;YACL,CAAC;YAED,eAAe,CAAC,MAAM;gBACpB,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;YAC3B,CAAC;YAED,WAAW,CAAC,CAAgC;gBAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;oBACpC,IAAI,CAAC,OAAO,CAAC;wBACX,MAAM,EAAE,KAAK;qBACd,CAAC,CAAC;iBACJ;gBACD,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YACvC,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AAlEoB,MAAM;IAD1B,WAAW,EAAE;GACO,MAAM,CAkE1B;eAlEoB,MAAM","file":"avatar.js","sourcesContent":["import { SuperComponent, wxComponent, RelationsOptions } from '../common/src/index';\nimport config from '../common/config';\nimport avatarProps from './props';\nimport { setIcon } from '../common/utils';\n\nconst { prefix } = config;\nconst name = `${prefix}-avatar`;\n\n@wxComponent()\nexport default class Avatar extends SuperComponent {\n  options: WechatMiniprogram.Component.ComponentOptions = {\n    multipleSlots: true,\n    styleIsolation: 'apply-shared',\n  };\n\n  externalClasses = [\n    'class',\n    `${prefix}-class`,\n    `${prefix}-class-image`,\n    `${prefix}-class-icon`,\n    `${prefix}-class-alt`,\n    `${prefix}-class-content`,\n  ];\n\n  properties = avatarProps;\n\n  data = {\n    prefix,\n    classPrefix: name,\n    isShow: true,\n    zIndex: 0,\n  };\n\n  relations: RelationsOptions = {\n    '../avatar-group/avatar-group': {\n      type: 'ancestor',\n      linked(parent) {\n        this.parent = parent;\n\n        this.setData({\n          size: this.data.size ?? parent.data.size,\n        });\n      },\n    },\n  };\n\n  observers = {\n    icon(icon) {\n      const obj = setIcon('icon', icon, '');\n      this.setData({\n        ...obj,\n      });\n    },\n  };\n\n  methods = {\n    hide() {\n      this.setData({\n        isShow: false,\n      });\n    },\n\n    updateCascading(zIndex) {\n      this.setData({ zIndex });\n    },\n\n    onLoadError(e: WechatMiniprogram.CustomEvent) {\n      if (this.properties.hideOnLoadFailed) {\n        this.setData({\n          isShow: false,\n        });\n      }\n      this.triggerEvent('error', e.detail);\n    },\n  };\n}\n"]}