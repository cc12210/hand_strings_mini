{"version":3,"sources":["../../src/tag/tag.ts"],"names":[],"mappings":"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","file":"tag.js","sourcesContent":["import { wxComponent, SuperComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\nimport { classNames, isNumber, calcIcon } from '../common/utils';\n\nconst { prefix } = config;\nconst name = `${prefix}-tag`;\n\n@wxComponent()\nexport default class Tag extends SuperComponent {\n  data = {\n    prefix,\n    classPrefix: name,\n    className: '',\n    tagStyle: '',\n  };\n\n  properties = props;\n\n  externalClasses = ['class', `${prefix}-class`];\n\n  options: WechatMiniprogram.Component.ComponentOptions = {\n    multipleSlots: true,\n    styleIsolation: 'apply-shared',\n  };\n\n  lifetimes = {\n    attached() {\n      this.setClass();\n      this.setTagStyle();\n    },\n  };\n\n  observers = {\n    'size, shape, theme, variant, closable, disabled'() {\n      this.setClass();\n    },\n\n    maxWidth() {\n      this.setTagStyle();\n    },\n\n    icon(v) {\n      this.setData({\n        _icon: calcIcon(v),\n      });\n    },\n  };\n\n  methods = {\n    setClass() {\n      const { prefix, classPrefix } = this.data;\n      const { size, shape, theme, variant, closable, disabled } = this.properties;\n      const tagClass = [\n        classPrefix,\n        `${classPrefix}--${theme || 'default'}`,\n        `${classPrefix}--${variant}`,\n        closable ? `${classPrefix}--closable ${prefix}-is-closable` : '',\n        disabled ? `${classPrefix}--disabled ${prefix}-is-disabled` : '',\n        `${classPrefix}--${size}`,\n        `${classPrefix}--${shape}`,\n      ];\n      const className = classNames(tagClass);\n      this.setData({\n        className,\n      });\n    },\n\n    setTagStyle() {\n      const { maxWidth } = this.properties;\n      if (!maxWidth) {\n        return '';\n      }\n      const width = isNumber(maxWidth) ? `${maxWidth}px` : maxWidth;\n      this.setData({ tagStyle: `max-width:${width};` });\n    },\n\n    handleClick(e: WechatMiniprogram.BaseEvent) {\n      if (this.data.disabled) return;\n      this.triggerEvent('click', e);\n    },\n\n    handleClose(e: WechatMiniprogram.BaseEvent) {\n      if (this.data.disabled) return;\n      this.triggerEvent('close', e);\n    },\n  };\n}\n"]}