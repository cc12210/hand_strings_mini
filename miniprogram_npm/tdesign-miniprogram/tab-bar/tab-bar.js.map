{"version":3,"sources":["../../src/tab-bar/tab-bar.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,WAAW,EAAE,cAAc,EAAoB,MAAM,qBAAqB,CAAC;AACpF,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,KAAK,MAAM,SAAS,CAAC;AAE5B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,WAAW,GAAG,GAAG,MAAM,UAAU,CAAC;AAGxC,IAAqB,MAAM,GAA3B,MAAqB,MAAO,SAAQ,cAAc;IAAlD;;QACE,cAAS,GAAqB;YAC5B,8BAA8B,EAAE;gBAC9B,IAAI,EAAE,YAAY;aACnB;SACF,CAAC;QAEF,oBAAe,GAAG,CAAC,GAAG,MAAM,QAAQ,CAAC,CAAC;QAEtC,gBAAW,GAAG,CAAC,CAAC,CAAC;QAEjB,SAAI,GAAG;YACL,MAAM;YACN,WAAW;SACZ,CAAC;QAEF,eAAU,GAAG,KAAK,CAAC;QAEnB,oBAAe,GAAG;YAChB;gBACE,GAAG,EAAE,OAAO;gBACZ,KAAK,EAAE,QAAQ;aAChB;SACF,CAAC;QAEF,cAAS,GAAG;YACV,KAAK;gBACH,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;SACF,CAAC;QAEF,cAAS,GAAG;YACV,KAAK;gBACH,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,YAAY;gBACV,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAE5B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC/B,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,KAAK,KAAK,EAAE;wBACpC,KAAK,CAAC,UAAU,EAAE,CAAC;wBACnB,KAAK,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC;qBAChD;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YAED,cAAc;gBACZ,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAE5B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC/B,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC;YACL,CAAC;YAED,WAAW,CAAC,KAAK;gBACf,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;YACrC,CAAC;YAED,iBAAiB,CAAC,KAAK;gBACrB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC/B,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,KAAK,KAAK,EAAE;wBACpC,KAAK,CAAC,WAAW,EAAE,CAAC;qBACrB;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YAED,QAAQ;gBACN,OAAO,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;YACjC,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AAzEoB,MAAM;IAD1B,WAAW,EAAE;GACO,MAAM,CAyE1B;eAzEoB,MAAM","file":"tab-bar.js","sourcesContent":["import { wxComponent, SuperComponent, RelationsOptions } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst classPrefix = `${prefix}-tab-bar`;\n\n@wxComponent()\nexport default class Tabbar extends SuperComponent {\n  relations: RelationsOptions = {\n    '../tab-bar-item/tab-bar-item': {\n      type: 'descendant',\n    },\n  };\n\n  externalClasses = [`${prefix}-class`];\n\n  backupValue = -1;\n\n  data = {\n    prefix,\n    classPrefix,\n  };\n\n  properties = props;\n\n  controlledProps = [\n    {\n      key: 'value',\n      event: 'change',\n    },\n  ];\n\n  observers = {\n    value() {\n      this.updateChildren();\n    },\n  };\n\n  lifetimes = {\n    ready() {\n      this.showChildren();\n    },\n  };\n\n  methods = {\n    showChildren() {\n      const { value } = this.data;\n\n      this.$children.forEach((child) => {\n        if (child.properties.value === value) {\n          child.showSpread();\n          child.setData({ crowded: this.$children > 3 });\n        }\n      });\n    },\n\n    updateChildren() {\n      const { value } = this.data;\n\n      this.$children.forEach((child) => {\n        child.checkActive(value);\n      });\n    },\n\n    updateValue(value) {\n      this._trigger('change', { value });\n    },\n\n    changeOtherSpread(value) {\n      this.$children.forEach((child) => {\n        if (child.properties.value !== value) {\n          child.closeSpread();\n        }\n      });\n    },\n\n    initName() {\n      return (this.backupValue += 1);\n    },\n  };\n}\n"]}