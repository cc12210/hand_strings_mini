{"version":3,"sources":["../../src/back-top/back-top.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,cAAc,EAAoB,WAAW,EAAE,MAAM,qBAAqB,CAAC;AACpF,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAE3C,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,WAAW,CAAC;AAGlC,IAAqB,OAAO,GAA5B,MAAqB,OAAQ,SAAQ,cAAc;IAAnD;;QACE,oBAAe,GAAG,CAAC,GAAG,MAAM,QAAQ,EAAE,GAAG,MAAM,aAAa,EAAE,GAAG,MAAM,aAAa,CAAC,CAAC;QAEtF,YAAO,GAAG;YACR,aAAa,EAAE,IAAI;SACpB,CAAC;QAEF,eAAU,GAAG,KAAK,CAAC;QAEnB,cAAS,GAAqB;YAC5B,wCAAwC,EAAE;gBACxC,IAAI,EAAE,UAAU;aACjB;SACF,CAAC;QAEF,SAAI,GAAG;YACL,MAAM;YACN,WAAW,EAAE,IAAI;YACjB,KAAK,EAAE,IAAI;SACZ,CAAC;QAEF,cAAS,GAAG;YACV,IAAI;gBACF,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;SACF,CAAC;QAEF,cAAS,GAAG;YACV,KAAK;gBACH,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,OAAO,CAAC,CAAC;gBACP,IAAI,CAAC,OAAO,CAAC;oBACX,KAAK,EAAE,QAAQ,CAAC,CAAC,EAAE,SAAS,CAAC;iBAC9B,CAAC,CAAC;YACL,CAAC;YAED,KAAK;;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;gBAC5B,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,MAAA,IAAI,CAAC,OAAO,0CAAE,YAAY,CAAC,CAAC,CAAC,CAAC;iBAC/B;qBAAM;oBACL,EAAE,CAAC,YAAY,CAAC;wBACd,SAAS,EAAE,CAAC;wBACZ,QAAQ,EAAE,GAAG;qBACd,CAAC,CAAC;iBACJ;YACH,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AApDoB,OAAO;IAD3B,WAAW,EAAE;GACO,OAAO,CAoD3B;eApDoB,OAAO","file":"back-top.js","sourcesContent":["import { SuperComponent, RelationsOptions, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\nimport { calcIcon } from '../common/utils';\n\nconst { prefix } = config;\nconst name = `${prefix}-back-top`;\n\n@wxComponent()\nexport default class BackTop extends SuperComponent {\n  externalClasses = [`${prefix}-class`, `${prefix}-class-icon`, `${prefix}-class-text`];\n\n  options = {\n    multipleSlots: true,\n  };\n\n  properties = props;\n\n  relations: RelationsOptions = {\n    '../pull-down-refresh/pull-down-refresh': {\n      type: 'ancestor',\n    },\n  };\n\n  data = {\n    prefix,\n    classPrefix: name,\n    _icon: null,\n  };\n\n  observers = {\n    icon() {\n      this.setIcon();\n    },\n  };\n\n  lifetimes = {\n    ready() {\n      this.setIcon();\n    },\n  };\n\n  methods = {\n    setIcon(v) {\n      this.setData({\n        _icon: calcIcon(v, 'backtop'),\n      });\n    },\n\n    toTop() {\n      this.triggerEvent('to-top');\n      if (this.$parent) {\n        this.$parent?.setScrollTop(0);\n      } else {\n        wx.pageScrollTo({\n          scrollTop: 0,\n          duration: 300,\n        });\n      }\n    },\n  };\n}\n"]}