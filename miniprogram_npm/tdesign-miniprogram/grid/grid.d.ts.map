{"version":3,"sources":["../../src/grid/grid.ts"],"names":[],"mappings":"AAAA,OAAO,EAAY,cAAc,EAAe,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AAQ9F,MAAM,CAAC,OAAO,OAAO,IAAK,SAAQ,cAAc;IAC9C,eAAe,WAAe;IAE9B,SAAS,EAAE,gBAAgB,CAIzB;IAEF,UAAU,+BAAS;IAEnB,IAAI;;;;MAIF;IAEF,SAAS;;;MAQP;IAEF,SAAS;;MAIP;IAEF,OAAO;kCACqB,2BAA2B,CAAC,eAAe,KAAK,IAAI;;;MAsB9E;CACH","file":"grid.d.ts","sourcesContent":["import { isObject, SuperComponent, wxComponent, RelationsOptions } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-grid`;\n\n@wxComponent()\nexport default class Grid extends SuperComponent {\n  externalClasses = ['t-class'];\n\n  relations: RelationsOptions = {\n    '../grid-item/grid-item': {\n      type: 'descendant',\n    },\n  };\n\n  properties = props;\n\n  data = {\n    prefix,\n    classPrefix: name,\n    contentStyle: '',\n  };\n\n  observers = {\n    'column,hover,align'() {\n      this.updateContentStyle();\n    },\n    'gutter,border'() {\n      this.updateContentStyle();\n      this.doForChild((child) => child.updateStyle());\n    },\n  };\n\n  lifetimes = {\n    attached() {\n      this.updateContentStyle();\n    },\n  };\n\n  methods = {\n    doForChild(action: (item: WechatMiniprogram.Component.TrivialInstance) => void) {\n      this.$children.forEach(action);\n    },\n    updateContentStyle() {\n      const contentStyles = [];\n      const marginStyle = this.getContentMargin();\n      marginStyle && contentStyles.push(marginStyle);\n      this.setData({\n        contentStyle: contentStyles.join(';'),\n      });\n    },\n\n    // 判断需不需要在content上加负margin以实现gutter间距\n    getContentMargin() {\n      const { gutter } = this.properties;\n      let { border } = this.properties;\n\n      if (!border) return `margin-left:-${gutter}rpx; margin-top:-${gutter}rpx`;\n      if (!isObject(border)) border = {} as any;\n      const { width = 2 } = border as any;\n      return `margin-left:-${width}rpx; margin-top:-${width}rpx`;\n    },\n  };\n}\n"]}