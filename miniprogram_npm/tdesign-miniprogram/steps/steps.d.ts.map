{"version":3,"sources":["../../src/steps/steps.ts"],"names":[],"mappings":"AAAA,OAAO,EAAe,cAAc,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AAQpF,MAAM,CAAC,OAAO,OAAO,KAAM,SAAQ,cAAc;IAC/C,SAAS,EAAE,gBAAgB,CAgBzB;IAEF,eAAe,WAAuB;IAEtC,UAAU,gCAAS;IAEnB,eAAe;;;QAKb;IAGF,IAAI;;;MAGF;IAEF,SAAS;;MAIP;IAEF,OAAO;;;;MAuBL;CACH","file":"steps.d.ts","sourcesContent":["import { wxComponent, SuperComponent, RelationsOptions } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-steps`;\n\n@wxComponent()\nexport default class Steps extends SuperComponent {\n  relations: RelationsOptions = {\n    '../step-item/step-item': {\n      type: 'child',\n      linked(child) {\n        this.updateChildren();\n\n        const { readonly } = this.data;\n\n        child.setData({\n          readonly,\n        });\n      },\n      unlinked() {\n        this.updateLastChid();\n      },\n    },\n  };\n\n  externalClasses = [`${prefix}-class`];\n\n  properties = props;\n\n  controlledProps = [\n    {\n      key: 'current',\n      event: 'change',\n    },\n  ];\n\n  // 组件的内部数据\n  data = {\n    prefix,\n    classPrefix: name,\n  };\n\n  observers = {\n    current() {\n      this.updateChildren();\n    },\n  };\n\n  methods = {\n    updateChildren() {\n      const { current, currentStatus, readonly, theme, layout } = this.data;\n      const items = this.$children;\n\n      items.forEach((item, index) => {\n        item.updateStatus(current, currentStatus, index, theme, layout, items, readonly);\n      });\n    },\n    updateLastChid() {\n      const items = this.$children;\n\n      items.forEach((child, index) => child.setData({ isLastChild: index === items.length - 1 }));\n    },\n    handleClick(index) {\n      if (!this.data.readonly) {\n        const preIndex = this.data.current;\n        this._trigger('change', {\n          previous: preIndex,\n          current: index,\n        });\n      }\n    },\n  };\n}\n"]}