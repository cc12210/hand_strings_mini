{"version":3,"sources":["../../src/swipe-cell/swipe-cell.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAe,MAAM,qBAAqB,CAAC;AAYlE,MAAM,CAAC,OAAO,OAAO,UAAW,SAAQ,cAAc;IACpD,eAAe,WAAuB;IAEtC,OAAO;;MAEL;IAEF,UAAU,oCAAS;IAEnB,IAAI;;;;;MAKF;IAEF,QAAQ;IAIR,KAAK;IAIL,aAAa;IAWb,QAAQ;IAIR,IAAI;IAIJ,KAAK;IAIL,UAAU;IAIV,KAAK;IAIL,WAAW,CAAC,KAAK,KAAA;CAQlB","file":"swipe-cell.d.ts","sourcesContent":["import { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\nimport { getRect } from '../common/utils';\n\nlet ARRAY: WechatMiniprogram.Component.TrivialInstance[] = [];\n\nconst { prefix } = config;\nconst name = `${prefix}-swipe-cell`;\nconst ContainerClass = `.${name}`;\n\n@wxComponent()\nexport default class SwiperCell extends SuperComponent {\n  externalClasses = [`${prefix}-class`];\n\n  options = {\n    multipleSlots: true,\n  };\n\n  properties = props;\n\n  data = {\n    prefix,\n    wrapperStyle: '',\n    closed: true,\n    classPrefix: name,\n  };\n\n  attached() {\n    ARRAY.push(this as WechatMiniprogram.Component.TrivialInstance);\n  }\n\n  ready() {\n    this.setSwipeWidth();\n  }\n\n  setSwipeWidth() {\n    Promise.all([getRect(this, `${ContainerClass}__left`), getRect(this, `${ContainerClass}__right`)]).then(\n      ([leftRect, rightRect]) => {\n        this.setData({\n          leftWidth: leftRect.width,\n          rightWidth: rightRect.width,\n        });\n      },\n    );\n  }\n\n  detached() {\n    ARRAY = ARRAY.filter((item) => item !== this);\n  }\n\n  open() {\n    this.setData({ opened: true });\n  }\n\n  close() {\n    this.setData({ opened: false });\n  }\n\n  closeOther() {\n    ARRAY.filter((item) => item !== this).forEach((item) => item.close());\n  }\n\n  onTap() {\n    this.close();\n  }\n\n  onActionTap(event) {\n    const {\n      currentTarget: {\n        dataset: { action },\n      },\n    } = event;\n    this.triggerEvent('click', action);\n  }\n}\n"]}